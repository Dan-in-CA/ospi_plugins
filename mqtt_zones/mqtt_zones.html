$def with(zone_topic, error_msg)

$var title: $_('SIP MQTT Zones Plugin')
$var page: mqtt_plugin
<script>

    // Initialize behaviors
    jQuery(document).ready(function(){

        jQuery("#cSubmit").click(function() {
            jQuery("#pluginForm").submit();
        });
        jQuery("button#cCancel").click(function(){
            window.location= baseUrl + "/";
        });
    });
</script>

<div id="plugin">
    <div class="title">MQTT Zones Plugin</div>
    <div>
    <p>Relies on the base MQTT plugin and broadcasts zone changes over MQTT</p>
    <p>Click the Submit button below even if using the default topic.</p>
    </div>

    <div id="errorMessage">${error_msg}</div>

    <form id="pluginForm" action="/zone2mqtt-save" method="get">

        <table class="optionList">

            <!--Text fields-->
            <tr>
                <td style='text-transform: none;'>$_(u'Zone topic'):</td>
                <td>The topic to broadcast zone updates on<br />
                  <input type="text" name="zone_topic" value="${zone_topic}">
                </td>
            </tr>
        </table>
    </form>

<div id="controls">
    <button id="cSubmit" class="submit"><b>$_(u'Submit')</b></button>
    <button id="cCancel" class="cancel danger">$_(u'Cancel')</button>
</div>
</div>
